<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Untitled</title>
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PJOK by DM - Pendidikan Jasmani Olahraga dan Kesehatan</title>
    <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100%;
        }
        
        html {
            height: 100%;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100%;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 3rem;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            margin: 10px 0;
        }
        
        .sports-banner {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .sport-icon {
            text-align: center;
            color: white;
            padding: 20px;
            border-radius: 10px;
            background: rgba(255,255,255,0.1);
            transition: transform 0.3s ease;
        }
        
        .sport-icon:hover {
            transform: scale(1.1);
        }
        
        .sport-icon .icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }
        
        .sport-icon .name {
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 20px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background: linear-gradient(45deg, #FF6B6B, #ee5a52);
            color: white;
            padding: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .card-content {
            padding: 25px;
            line-height: 1.6;
        }
        
        .login-form {
            display: grid;
            gap: 20px;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        .form-group input, .form-group select {
            padding: 15px;
            font-size: 1.1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #FF6B6B;
        }
        
        .btn {
            background: linear-gradient(45deg, #FF6B6B, #ee5a52);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
            margin: 10px 5px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255,107,107,0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 5px 15px rgba(116,185,255,0.4);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #00b894, #00a085);
        }
        
        .btn-success:hover {
            box-shadow: 0 5px 15px rgba(0,184,148,0.4);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .subject-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .subject-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .subject-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }
        
        .subject-card.completed {
            background: linear-gradient(135deg, #00b894, #00a085);
        }
        
        .subject-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .subject-card h3 {
            margin: 10px 0;
            font-size: 1.3rem;
        }
        
        .subject-card p {
            margin: 0;
            opacity: 0.9;
            font-size: 0.9rem;
        }
        
        .student-info {
            background: linear-gradient(45deg, #00cec9, #00b894);
            color: white;
            padding: 15px 25px;
            border-radius: 25px;
            display: inline-block;
            margin-bottom: 20px;
            font-weight: bold;
        }
        
        .lesson-content {
            font-size: 1rem;
            color: #333;
        }
        
        .lesson-content h3 {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .lesson-content ul {
            padding-left: 25px;
        }
        
        .lesson-content li {
            margin-bottom: 8px;
        }
        
        .question {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #FF6B6B;
        }
        
        .question h4 {
            margin: 0 0 15px 0;
            color: #2c3e50;
        }
        
        .options {
            list-style: none;
            padding: 0;
        }
        
        .options li {
            margin: 10px 0;
        }
        
        .options input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.2);
        }
        
        .options label {
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: background-color 0.2s;
        }
        
        .options label:hover {
            background-color: #e9ecef;
        }
        
        .score-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(45deg, #00b894, #00a085);
            color: white;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .score-number {
            font-size: 3rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .progress-bar {
            background: #e9ecef;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            background: linear-gradient(45deg, #00b894, #00a085);
            height: 100%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .hidden {
            display: none;
        }
        
        .navigation {
            text-align: center;
            margin: 20px 0;
        }
        
        .progress-tracker {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: white;
        }
        
        .progress-item {
            display: inline-block;
            margin: 5px 10px;
            padding: 5px 15px;
            border-radius: 15px;
            background: rgba(255,255,255,0.2);
            font-size: 0.9rem;
        }
        
        .progress-item.completed {
            background: #00b894;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .sports-banner {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .subject-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÉ‚Äç‚ôÇÔ∏è PJOK by DM</h1>
            <p>Pendidikan Jasmani, Olahraga & Kesehatan</p>
        </div>

        <!-- Sports Banner -->
        <div class="sports-banner">
            <div class="sport-icon">
                <div class="icon">‚öΩ</div>
                <div class="name">Sepak Bola</div>
            </div>
            <div class="sport-icon">
                <div class="icon">üèÄ</div>
                <div class="name">Basket</div>
            </div>
            <div class="sport-icon">
                <div class="icon">üèê</div>
                <div class="name">Voli</div>
            </div>
            <div class="sport-icon">
                <div class="icon">üè∏</div>
                <div class="name">Bulu Tangkis</div>
            </div>
            <div class="sport-icon">
                <div class="icon">üèì</div>
                <div class="name">Tenis Meja</div>
            </div>
            <div class="sport-icon">
                <div class="icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                <div class="name">Atletik</div>
            </div>
        </div>

        <!-- Login Section -->
        <div id="login-section" class="card">
            <div class="card-header">
                üéì Masuk ke Platform PJOK
            </div>
            <div class="card-content">
                <div class="login-form">
                    <div class="form-group">
                        <label for="student-name">Nama Lengkap:</label>
                        <input type="text" id="student-name" placeholder="Masukkan nama lengkap Anda" required>
                    </div>
                    <div class="form-group">
                        <label for="student-class">Kelas:</label>
                        <select id="student-class" required>
                            <option value="">Pilih Kelas</option>
                            <option value="X">Kelas X</option>
                            <option value="XI">Kelas XI</option>
                            <option value="XII">Kelas XII</option>
                        </select>
                    </div>
                    <button class="btn" onclick="loginStudent()">Masuk ke Platform üöÄ</button>
                </div>
                <p style="text-align: center; color: #666; margin-top: 20px; font-size: 0.9rem;">
                    üìä Hasil post-test akan disimpan untuk tracking progress belajar
                </p>
            </div>
        </div>

        <!-- Subject Selection -->
        <div id="subject-menu" class="card hidden">
            <div class="card-header">
                üèÜ Pilih Materi Olahraga
                <div class="student-info" id="student-display" style="float: right; font-size: 0.9rem;"></div>
            </div>
            <div class="card-content">
                <div class="progress-tracker" id="progress-tracker">
                    <strong>Progress Belajar:</strong>
                    <div id="progress-items"></div>
                </div>
                <div class="subject-grid" id="subject-grid">
                    <!-- Subjects will be loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Study Materials -->
        <div id="study-section" class="card hidden">
            <div class="card-header" id="study-header">
                üìñ Materi Pembelajaran
            </div>
            <div class="card-content">
                <div class="lesson-content" id="lesson-content">
                    <!-- Content will be loaded dynamically -->
                </div>
                
                <div class="navigation">
                    <button class="btn" onclick="startTest()">Mulai Post-Test üìù</button>
                    <button class="btn btn-secondary" onclick="backToMenu()">‚Üê Kembali ke Menu</button>
                </div>
            </div>
        </div>

        <!-- Test Section -->
        <div id="test-section" class="card hidden">
            <div class="card-header" id="test-header">
                üìù Post-Test
            </div>
            <div class="card-content">
                <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #ffc107;">
                    <strong>‚ö†Ô∏è Perhatian:</strong> Setelah memulai post-test, Anda tidak dapat kembali ke materi sampai menyelesaikan semua soal.
                </div>
                
                <form id="quiz-form">
                    <!-- Questions will be loaded dynamically -->
                </form>
                
                <div class="navigation">
                    <button class="btn btn-success" onclick="submitTest()">Selesai & Lihat Hasil ‚úÖ</button>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div id="results-section" class="card hidden">
            <div class="card-header">
                üéâ Hasil Post-Test Anda
            </div>
            <div class="card-content">
                <div class="score-display">
                    <div>Skor Anda</div>
                    <div class="score-number" id="score-number">0</div>
                    <div id="score-text">dari 5 soal</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div id="performance-message"></div>
                    <div style="margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                        üìä Hasil telah disimpan ke spreadsheet untuk tracking progress
                    </div>
                </div>
                
                <div id="detailed-results"></div>
                
                <div class="navigation">
                    <button class="btn" onclick="retakeTest()">Ulangi Test üîÑ</button>
                    <button class="btn btn-secondary" onclick="backToStudy()">Review Materi üìñ</button>
                    <button class="btn btn-success" onclick="backToMenu()">‚Üê Kembali ke Menu</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // üìä GOOGLE SHEETS CONFIGURATION
        const GOOGLE_SCRIPT_URL = 'YOUR_SCRIPT_URL'; // Ganti dengan URL Google Apps Script Anda
        
        let currentStudent = {};
        let currentSubject = '';
        let completedSubjects = [];
        
        // Data materi berdasarkan kelas
        const subjects = {
            'sepakbola': {
                title: 'Sepak Bola',
                icon: '‚öΩ',
                content: {
                    'X': `
                        <h3>Pengenalan Sepak Bola</h3>
                        <p>Sepak bola adalah olahraga tim yang dimainkan oleh dua tim yang masing-masing terdiri dari 11 pemain.</p>
                        
                        <h3>Teknik Dasar Sepak Bola</h3>
                        <ul>
                            <li><strong>Menendang (Kicking):</strong> Teknik dasar menggunakan kaki untuk menggerakkan bola</li>
                            <li><strong>Menggiring (Dribbling):</strong> Membawa bola sambil berlari</li>
                            <li><strong>Mengoper (Passing):</strong> Memberikan bola kepada rekan satu tim</li>
                            <li><strong>Menahan (Stopping):</strong> Menghentikan bola yang datang</li>
                        </ul>
                        
                        <h3>Lapangan Sepak Bola</h3>
                        <ul>
                            <li>Panjang: 90-120 meter</li>
                            <li>Lebar: 45-90 meter</li>
                            <li>Gawang: tinggi 2,44 m, lebar 7,32 m</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Teknik Lanjutan Sepak Bola</h3>
                        <p>Pada tingkat XI, siswa mempelajari teknik yang lebih kompleks dan strategi permainan.</p>
                        
                        <h3>Teknik Lanjutan</h3>
                        <ul>
                            <li><strong>Heading:</strong> Menyundul bola dengan kepala</li>
                            <li><strong>Shooting:</strong> Menendang bola ke arah gawang</li>
                            <li><strong>Crossing:</strong> Mengoper bola dari sayap ke tengah</li>
                            <li><strong>Tackling:</strong> Merebut bola dari lawan</li>
                        </ul>
                        
                        <h3>Formasi Tim</h3>
                        <ul>
                            <li>4-4-2: Formasi dengan 4 bek, 4 gelandang, 2 penyerang</li>
                            <li>4-3-3: Formasi dengan 4 bek, 3 gelandang, 3 penyerang</li>
                            <li>3-5-2: Formasi dengan 3 bek, 5 gelandang, 2 penyerang</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Strategi dan Taktik Sepak Bola</h3>
                        <p>Tingkat XII fokus pada pemahaman mendalam tentang strategi, taktik, dan analisis permainan.</p>
                        
                        <h3>Taktik Menyerang</h3>
                        <ul>
                            <li><strong>Counter Attack:</strong> Serangan balik cepat</li>
                            <li><strong>Build-up Play:</strong> Membangun serangan dari belakang</li>
                            <li><strong>Wing Play:</strong> Serangan melalui sayap</li>
                            <li><strong>Through Ball:</strong> Umpan terobosan</li>
                        </ul>
                        
                        <h3>Taktik Bertahan</h3>
                        <ul>
                            <li><strong>Man Marking:</strong> Penjagaan satu lawan satu</li>
                            <li><strong>Zone Defense:</strong> Penjagaan area</li>
                            <li><strong>Offside Trap:</strong> Perangkap offside</li>
                            <li><strong>Pressing:</strong> Menekan lawan</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Berapa jumlah pemain dalam satu tim sepak bola?",
                            options: { a: "10 pemain", b: "11 pemain", c: "12 pemain", d: "9 pemain" },
                            correct: "b"
                        },
                        {
                            question: "Teknik dasar membawa bola sambil berlari disebut?",
                            options: { a: "Passing", b: "Shooting", c: "Dribbling", d: "Heading" },
                            correct: "c"
                        },
                        {
                            question: "Berapa tinggi gawang sepak bola?",
                            options: { a: "2,44 meter", b: "2,50 meter", c: "2,40 meter", d: "2,30 meter" },
                            correct: "a"
                        }
                    ],
                    'XI': [
                        {
                            question: "Formasi 4-4-2 terdiri dari berapa penyerang?",
                            options: { a: "1 penyerang", b: "2 penyerang", c: "3 penyerang", d: "4 penyerang" },
                            correct: "b"
                        },
                        {
                            question: "Teknik menyundul bola dengan kepala disebut?",
                            options: { a: "Shooting", b: "Crossing", c: "Heading", d: "Tackling" },
                            correct: "c"
                        },
                        {
                            question: "Mengoper bola dari sayap ke tengah disebut?",
                            options: { a: "Passing", b: "Crossing", c: "Dribbling", d: "Shooting" },
                            correct: "b"
                        }
                    ],
                    'XII': [
                        {
                            question: "Taktik serangan balik cepat disebut?",
                            options: { a: "Build-up Play", b: "Counter Attack", c: "Wing Play", d: "Through Ball" },
                            correct: "b"
                        },
                        {
                            question: "Penjagaan satu lawan satu disebut?",
                            options: { a: "Zone Defense", b: "Man Marking", c: "Offside Trap", d: "Pressing" },
                            correct: "b"
                        },
                        {
                            question: "Taktik menekan lawan disebut?",
                            options: { a: "Pressing", b: "Marking", c: "Covering", d: "Tracking" },
                            correct: "a"
                        }
                    ]
                }
            },
            'basket': {
                title: 'Bola Basket',
                icon: 'üèÄ',
                content: {
                    'X': `
                        <h3>Pengenalan Bola Basket</h3>
                        <p>Bola basket adalah olahraga tim yang dimainkan oleh dua tim dengan masing-masing 5 pemain di lapangan.</p>
                        
                        <h3>Teknik Dasar Bola Basket</h3>
                        <ul>
                            <li><strong>Dribbling:</strong> Memantul-mantulkan bola dengan satu tangan</li>
                            <li><strong>Passing:</strong> Mengoper bola kepada rekan satu tim</li>
                            <li><strong>Shooting:</strong> Memasukkan bola ke dalam ring</li>
                            <li><strong>Rebounding:</strong> Merebut bola pantul</li>
                        </ul>
                        
                        <h3>Ukuran Lapangan</h3>
                        <ul>
                            <li>Panjang: 28 meter</li>
                            <li>Lebar: 15 meter</li>
                            <li>Tinggi ring: 3,05 meter</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Teknik Lanjutan Bola Basket</h3>
                        <p>Pengembangan teknik individu dan pemahaman strategi tim yang lebih kompleks.</p>
                        
                        <h3>Teknik Shooting Lanjutan</h3>
                        <ul>
                            <li><strong>Jump Shot:</strong> Tembakan sambil melompat</li>
                            <li><strong>Lay-up:</strong> Tembakan dekat ring</li>
                            <li><strong>Free Throw:</strong> Lemparan bebas</li>
                            <li><strong>Three Point:</strong> Tembakan tiga angka</li>
                        </ul>
                        
                        <h3>Posisi Pemain</h3>
                        <ul>
                            <li>Point Guard (PG): Pengatur serangan</li>
                            <li>Shooting Guard (SG): Penembak</li>
                            <li>Small Forward (SF): Pemain serbaguna</li>
                            <li>Power Forward (PF): Pemain kuat</li>
                            <li>Center (C): Pemain tengah</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Strategi dan Sistem Permainan</h3>
                        <p>Analisis mendalam tentang sistem permainan dan strategi tim tingkat lanjut.</p>
                        
                        <h3>Sistem Penyerangan</h3>
                        <ul>
                            <li><strong>Fast Break:</strong> Serangan cepat</li>
                            <li><strong>Half Court Offense:</strong> Serangan setengah lapangan</li>
                            <li><strong>Pick and Roll:</strong> Strategi blokir dan guling</li>
                            <li><strong>Motion Offense:</strong> Serangan bergerak</li>
                        </ul>
                        
                        <h3>Sistem Pertahanan</h3>
                        <ul>
                            <li><strong>Man-to-Man Defense:</strong> Pertahanan satu lawan satu</li>
                            <li><strong>Zone Defense:</strong> Pertahanan daerah</li>
                            <li><strong>Press Defense:</strong> Pertahanan tekan</li>
                            <li><strong>Help Defense:</strong> Pertahanan bantuan</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Berapa jumlah pemain bola basket dalam satu tim di lapangan?",
                            options: { a: "4 pemain", b: "5 pemain", c: "6 pemain", d: "7 pemain" },
                            correct: "b"
                        },
                        {
                            question: "Berapa tinggi ring bola basket?",
                            options: { a: "3,00 meter", b: "3,05 meter", c: "3,10 meter", d: "3,15 meter" },
                            correct: "b"
                        },
                        {
                            question: "Teknik memantul-mantulkan bola disebut?",
                            options: { a: "Passing", b: "Shooting", c: "Dribbling", d: "Rebounding" },
                            correct: "c"
                        }
                    ],
                    'XI': [
                        {
                            question: "Posisi pengatur serangan dalam bola basket disebut?",
                            options: { a: "Center", b: "Point Guard", c: "Power Forward", d: "Shooting Guard" },
                            correct: "b"
                        },
                        {
                            question: "Tembakan sambil melompat disebut?",
                            options: { a: "Free Throw", b: "Lay-up", c: "Jump Shot", d: "Hook Shot" },
                            correct: "c"
                        },
                        {
                            question: "Tembakan dari luar garis tiga angka bernilai berapa poin?",
                            options: { a: "2 poin", b: "3 poin", c: "1 poin", d: "4 poin" },
                            correct: "b"
                        }
                    ],
                    'XII': [
                        {
                            question: "Strategi blokir dan guling disebut?",
                            options: { a: "Fast Break", b: "Motion Offense", c: "Pick and Roll", d: "Half Court" },
                            correct: "c"
                        },
                        {
                            question: "Pertahanan daerah disebut?",
                            options: { a: "Man-to-Man", b: "Zone Defense", c: "Press Defense", d: "Help Defense" },
                            correct: "b"
                        },
                        {
                            question: "Serangan cepat setelah merebut bola disebut?",
                            options: { a: "Motion Offense", b: "Half Court", c: "Fast Break", d: "Set Play" },
                            correct: "c"
                        }
                    ]
                }
            },
            'voli': {
                title: 'Bola Voli',
                icon: 'üèê',
                content: {
                    'X': `
                        <h3>Pengenalan Bola Voli</h3>
                        <p>Bola voli adalah olahraga tim yang dimainkan oleh dua tim dengan masing-masing 6 pemain.</p>
                        
                        <h3>Teknik Dasar Bola Voli</h3>
                        <ul>
                            <li><strong>Service:</strong> Pukulan pertama untuk memulai permainan</li>
                            <li><strong>Passing:</strong> Menerima dan mengoper bola</li>
                            <li><strong>Setting:</strong> Mengumpan bola untuk diserang</li>
                            <li><strong>Spiking:</strong> Menyerang bola ke lapangan lawan</li>
                            <li><strong>Blocking:</strong> Membendung serangan lawan</li>
                        </ul>
                        
                        <h3>Ukuran Lapangan</h3>
                        <ul>
                            <li>Panjang: 18 meter</li>
                            <li>Lebar: 9 meter</li>
                            <li>Tinggi net putra: 2,43 meter</li>
                            <li>Tinggi net putri: 2,24 meter</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Teknik Lanjutan Bola Voli</h3>
                        <p>Pengembangan teknik individu dan koordinasi tim yang lebih baik.</p>
                        
                        <h3>Jenis-jenis Service</h3>
                        <ul>
                            <li><strong>Service Bawah:</strong> Service dengan ayunan dari bawah</li>
                            <li><strong>Service Atas:</strong> Service dengan ayunan dari atas</li>
                            <li><strong>Jump Service:</strong> Service sambil melompat</li>
                            <li><strong>Float Service:</strong> Service tanpa putaran</li>
                        </ul>
                        
                        <h3>Posisi Pemain</h3>
                        <ul>
                            <li>Setter: Pengumpan</li>
                            <li>Spiker: Penyerang</li>
                            <li>Libero: Pemain bertahan khusus</li>
                            <li>Middle Blocker: Pemblokir tengah</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Strategi dan Sistem Permainan</h3>
                        <p>Pemahaman mendalam tentang strategi tim dan analisis permainan tingkat lanjut.</p>
                        
                        <h3>Sistem Penyerangan</h3>
                        <ul>
                            <li><strong>Quick Attack:</strong> Serangan cepat</li>
                            <li><strong>Combination Play:</strong> Serangan kombinasi</li>
                            <li><strong>Back Attack:</strong> Serangan dari belakang</li>
                            <li><strong>Pipe Attack:</strong> Serangan dari tengah belakang</li>
                        </ul>
                        
                        <h3>Sistem Pertahanan</h3>
                        <ul>
                            <li><strong>Dig:</strong> Menahan serangan keras</li>
                            <li><strong>Double Block:</strong> Blok ganda</li>
                            <li><strong>Triple Block:</strong> Blok tiga pemain</li>
                            <li><strong>Floor Defense:</strong> Pertahanan lantai</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Berapa jumlah pemain bola voli dalam satu tim?",
                            options: { a: "5 pemain", b: "6 pemain", c: "7 pemain", d: "8 pemain" },
                            correct: "b"
                        },
                        {
                            question: "Berapa tinggi net bola voli untuk putra?",
                            options: { a: "2,40 meter", b: "2,43 meter", c: "2,45 meter", d: "2,50 meter" },
                            correct: "b"
                        },
                        {
                            question: "Pukulan pertama untuk memulai permainan disebut?",
                            options: { a: "Passing", b: "Setting", c: "Service", d: "Spiking" },
                            correct: "c"
                        }
                    ],
                    'XI': [
                        {
                            question: "Pemain bertahan khusus dalam bola voli disebut?",
                            options: { a: "Setter", b: "Spiker", c: "Libero", d: "Blocker" },
                            correct: "c"
                        },
                        {
                            question: "Service sambil melompat disebut?",
                            options: { a: "Float Service", b: "Jump Service", c: "Service Atas", d: "Service Bawah" },
                            correct: "b"
                        },
                        {
                            question: "Mengumpan bola untuk diserang disebut?",
                            options: { a: "Passing", b: "Setting", c: "Spiking", d: "Blocking" },
                            correct: "b"
                        }
                    ],
                    'XII': [
                        {
                            question: "Serangan cepat dalam bola voli disebut?",
                            options: { a: "Back Attack", b: "Pipe Attack", c: "Quick Attack", d: "Combination Play" },
                            correct: "c"
                        },
                        {
                            question: "Menahan serangan keras disebut?",
                            options: { a: "Block", b: "Dig", c: "Receive", d: "Cover" },
                            correct: "b"
                        },
                        {
                            question: "Blok yang dilakukan tiga pemain disebut?",
                            options: { a: "Single Block", b: "Double Block", c: "Triple Block", d: "Team Block" },
                            correct: "c"
                        }
                    ]
                }
            },
            'bulutangkis': {
                title: 'Bulu Tangkis',
                icon: 'üè∏',
                content: {
                    'X': `
                        <h3>Pengenalan Bulu Tangkis</h3>
                        <p>Bulu tangkis adalah olahraga raket yang dapat dimainkan tunggal (1 vs 1) atau ganda (2 vs 2).</p>
                        
                        <h3>Teknik Dasar Bulu Tangkis</h3>
                        <ul>
                            <li><strong>Grip:</strong> Cara memegang raket</li>
                            <li><strong>Stance:</strong> Posisi berdiri</li>
                            <li><strong>Footwork:</strong> Gerakan kaki</li>
                            <li><strong>Service:</strong> Pukulan pembuka</li>
                            <li><strong>Clear:</strong> Pukulan tinggi ke belakang</li>
                        </ul>
                        
                        <h3>Ukuran Lapangan</h3>
                        <ul>
                            <li>Panjang: 13,40 meter</li>
                            <li>Lebar tunggal: 5,18 meter</li>
                            <li>Lebar ganda: 6,10 meter</li>
                            <li>Tinggi net: 1,55 meter</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Teknik Lanjutan Bulu Tangkis</h3>
                        <p>Pengembangan teknik pukulan dan strategi permainan yang lebih kompleks.</p>
                        
                        <h3>Jenis-jenis Pukulan</h3>
                        <ul>
                            <li><strong>Smash:</strong> Pukulan keras ke bawah</li>
                            <li><strong>Drop Shot:</strong> Pukulan pelan ke depan net</li>
                            <li><strong>Drive:</strong> Pukulan mendatar cepat</li>
                            <li><strong>Lob:</strong> Pukulan tinggi melambung</li>
                            <li><strong>Net Shot:</strong> Pukulan halus di net</li>
                        </ul>
                        
                        <h3>Strategi Permainan</h3>
                        <ul>
                            <li>Kontrol tempo permainan</li>
                            <li>Variasi pukulan</li>
                            <li>Penempatan shuttlecock</li>
                            <li>Stamina dan kondisi fisik</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Taktik dan Analisis Permainan</h3>
                        <p>Pemahaman mendalam tentang taktik, psikologi, dan analisis permainan tingkat kompetitif.</p>
                        
                        <h3>Taktik Tunggal</h3>
                        <ul>
                            <li><strong>Baseline Play:</strong> Permainan dari belakang</li>
                            <li><strong>Net Play:</strong> Permainan di depan net</li>
                            <li><strong>All Court:</strong> Permainan seluruh lapangan</li>
                            <li><strong>Counter Attack:</strong> Serangan balik</li>
                        </ul>
                        
                        <h3>Taktik Ganda</h3>
                        <ul>
                            <li><strong>Side by Side:</strong> Formasi sejajar</li>
                            <li><strong>Front and Back:</strong> Formasi depan belakang</li>
                            <li><strong>Rotation:</strong> Rotasi posisi</li>
                            <li><strong>Communication:</strong> Komunikasi tim</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Berapa tinggi net bulu tangkis?",
                            options: { a: "1,50 meter", b: "1,55 meter", c: "1,60 meter", d: "1,65 meter" },
                            correct: "b"
                        },
                        {
                            question: "Pukulan tinggi ke belakang disebut?",
                            options: { a: "Smash", b: "Drop", c: "Clear", d: "Drive" },
                            correct: "c"
                        },
                        {
                            question: "Lebar lapangan tunggal bulu tangkis adalah?",
                            options: { a: "5,18 meter", b: "6,10 meter", c: "5,50 meter", d: "6,00 meter" },
                            correct: "a"
                        }
                    ],
                    'XI': [
                        {
                            question: "Pukulan keras ke bawah disebut?",
                            options: { a: "Clear", b: "Smash", c: "Drop", d: "Lob" },
                            correct: "b"
                        },
                        {
                            question: "Pukulan pelan ke depan net disebut?",
                            options: { a: "Drop Shot", b: "Net Shot", c: "Clear", d: "Drive" },
                            correct: "a"
                        },
                        {
                            question: "Pukulan mendatar cepat disebut?",
                            options: { a: "Smash", b: "Clear", c: "Drive", d: "Lob" },
                            correct: "c"
                        }
                    ],
                    'XII': [
                        {
                            question: "Formasi ganda sejajar disebut?",
                            options: { a: "Front and Back", b: "Side by Side", c: "Rotation", d: "All Court" },
                            correct: "b"
                        },
                        {
                            question: "Permainan dari belakang lapangan disebut?",
                            options: { a: "Net Play", b: "All Court", c: "Baseline Play", d: "Counter Attack" },
                            correct: "c"
                        },
                        {
                            question: "Formasi ganda depan belakang disebut?",
                            options: { a: "Side by Side", b: "Front and Back", c: "Rotation", d: "Communication" },
                            correct: "b"
                        }
                    ]
                }
            },
            'tenismeja': {
                title: 'Tenis Meja',
                icon: 'üèì',
                content: {
                    'X': `
                        <h3>Pengenalan Tenis Meja</h3>
                        <p>Tenis meja adalah olahraga raket yang dimainkan di atas meja dengan net di tengahnya.</p>
                        
                        <h3>Teknik Dasar Tenis Meja</h3>
                        <ul>
                            <li><strong>Grip:</strong> Cara memegang bet (Shakehand/Penhold)</li>
                            <li><strong>Stance:</strong> Posisi berdiri yang benar</li>
                            <li><strong>Service:</strong> Pukulan pembuka</li>
                            <li><strong>Push:</strong> Pukulan mendorong</li>
                            <li><strong>Drive:</strong> Pukulan menyerang</li>
                        </ul>
                        
                        <h3>Ukuran Meja</h3>
                        <ul>
                            <li>Panjang: 2,74 meter</li>
                            <li>Lebar: 1,525 meter</li>
                            <li>Tinggi: 0,76 meter</li>
                            <li>Tinggi net: 15,25 cm</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Teknik Lanjutan Tenis Meja</h3>
                        <p>Pengembangan teknik pukulan dan strategi yang lebih kompleks.</p>
                        
                        <h3>Jenis-jenis Pukulan</h3>
                        <ul>
                            <li><strong>Topspin:</strong> Pukulan dengan putaran atas</li>
                            <li><strong>Backspin:</strong> Pukulan dengan putaran bawah</li>
                            <li><strong>Sidespin:</strong> Pukulan dengan putaran samping</li>
                            <li><strong>Smash:</strong> Pukulan keras ke bawah</li>
                            <li><strong>Block:</strong> Pukulan bertahan</li>
                        </ul>
                        
                        <h3>Footwork</h3>
                        <ul>
                            <li>Gerakan kaki yang efisien</li>
                            <li>Posisi tubuh yang seimbang</li>
                            <li>Perpindahan berat badan</li>
                            <li>Timing yang tepat</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Strategi dan Taktik Tingkat Lanjut</h3>
                        <p>Analisis mendalam tentang strategi, taktik, dan psikologi permainan kompetitif.</p>
                        
                        <h3>Strategi Permainan</h3>
                        <ul>
                            <li><strong>Attacking Style:</strong> Gaya menyerang</li>
                            <li><strong>Defensive Style:</strong> Gaya bertahan</li>
                            <li><strong>All-round Style:</strong> Gaya serbaguna</li>
                            <li><strong>Counter Style:</strong> Gaya counter attack</li>
                        </ul>
                        
                        <h3>Taktik Lanjutan</h3>
                        <ul>
                            <li><strong>Service Variation:</strong> Variasi service</li>
                            <li><strong>Third Ball Attack:</strong> Serangan bola ketiga</li>
                            <li><strong>Placement Strategy:</strong> Strategi penempatan</li>
                            <li><strong>Tempo Control:</strong> Kontrol tempo</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Berapa tinggi meja tenis meja?",
                            options: { a: "0,74 meter", b: "0,76 meter", c: "0,78 meter", d: "0,80 meter" },
                            correct: "b"
                        },
                        {
                            question: "Cara memegang bet disebut?",
                            options: { a: "Grip", b: "Stance", c: "Stroke", d: "Swing" },
                            correct: "a"
                        },
                        {
                            question: "Pukulan mendorong dalam tenis meja disebut?",
                            options: { a: "Drive", b: "Push", c: "Block", d: "Smash" },
                            correct: "b"
                        }
                    ],
                    'XI': [
                        {
                            question: "Pukulan dengan putaran atas disebut?",
                            options: { a: "Backspin", b: "Sidespin", c: "Topspin", d: "No spin" },
                            correct: "c"
                        },
                        {
                            question: "Pukulan bertahan dalam tenis meja disebut?",
                            options: { a: "Drive", b: "Push", c: "Block", d: "Smash" },
                            correct: "c"
                        },
                        {
                            question: "Pukulan dengan putaran bawah disebut?",
                            options: { a: "Topspin", b: "Backspin", c: "Sidespin", d: "Drive" },
                            correct: "b"
                        }
                    ],
                    'XII': [
                        {
                            question: "Serangan bola ketiga disebut?",
                            options: { a: "First Ball Attack", b: "Second Ball Attack", c: "Third Ball Attack", d: "Fourth Ball Attack" },
                            correct: "c"
                        },
                        {
                            question: "Gaya permainan serbaguna disebut?",
                            options: { a: "Attacking Style", b: "Defensive Style", c: "All-round Style", d: "Counter Style" },
                            correct: "c"
                        },
                        {
                            question: "Kontrol kecepatan permainan disebut?",
                            options: { a: "Placement Strategy", b: "Service Variation", c: "Tempo Control", d: "Counter Attack" },
                            correct: "c"
                        }
                    ]
                }
            },
            'atletik': {
                title: 'Atletik',
                icon: 'üèÉ‚Äç‚ôÇÔ∏è',
                content: {
                    'X': `
                        <h3>Pengenalan Atletik</h3>
                        <p>Atletik adalah kumpulan cabang olahraga yang terdiri dari lari, lompat, dan lempar.</p>
                        
                        <h3>Cabang Lari</h3>
                        <ul>
                            <li><strong>Sprint:</strong> Lari jarak pendek (100m, 200m, 400m)</li>
                            <li><strong>Middle Distance:</strong> Lari jarak menengah (800m, 1500m)</li>
                            <li><strong>Long Distance:</strong> Lari jarak jauh (5000m, 10000m)</li>
                            <li><strong>Hurdles:</strong> Lari gawang</li>
                        </ul>
                        
                        <h3>Teknik Dasar Lari</h3>
                        <ul>
                            <li>Start: Posisi awal yang benar</li>
                            <li>Stride: Langkah kaki yang efisien</li>
                            <li>Arm swing: Ayunan lengan</li>
                            <li>Finish: Teknik memasuki garis finish</li>
                        </ul>
                    `,
                    'XI': `
                        <h3>Cabang Lompat dan Lempar</h3>
                        <p>Pengembangan teknik lompat dan lempar dengan fokus pada koordinasi dan kekuatan.</p>
                        
                        <h3>Cabang Lompat</h3>
                        <ul>
                            <li><strong>Lompat Jauh:</strong> Lompat horizontal sejauh mungkin</li>
                            <li><strong>Lompat Tinggi:</strong> Lompat vertikal setinggi mungkin</li>
                            <li><strong>Lompat Galah:</strong> Lompat dengan bantuan galah</li>
                            <li><strong>Lompat Jangkit:</strong> Kombinasi hop, step, jump</li>
                        </ul>
                        
                        <h3>Cabang Lempar</h3>
                        <ul>
                            <li><strong>Lempar Lembing:</strong> Melempar lembing sejauh mungkin</li>
                            <li><strong>Lempar Cakram:</strong> Melempar cakram dengan rotasi</li>
                            <li><strong>Lempar Martil:</strong> Melempar martil dengan putaran</li>
                            <li><strong>Tolak Peluru:</strong> Menolak peluru sejauh mungkin</li>
                        </ul>
                    `,
                    'XII': `
                        <h3>Analisis Teknik dan Performa</h3>
                        <p>Pemahaman mendalam tentang biomekanika, fisiologi, dan optimalisasi performa atletik.</p>
                        
                        <h3>Biomekanika Atletik</h3>
                        <ul>
                            <li><strong>Force Production:</strong> Produksi tenaga</li>
                            <li><strong>Power Development:</strong> Pengembangan daya</li>
                            <li><strong>Efficiency:</strong> Efisiensi gerakan</li>
                            <li><strong>Technique Analysis:</strong> Analisis teknik</li>
                        </ul>
                        
                        <h3>Program Latihan</h3>
                        <ul>
                            <li><strong>Periodization:</strong> Periodisasi latihan</li>
                            <li><strong>Strength Training:</strong> Latihan kekuatan</li>
                            <li><strong>Speed Development:</strong> Pengembangan kecepatan</li>
                            <li><strong>Recovery:</strong> Pemulihan</li>
                        </ul>
                    `
                },
                questions: {
                    'X': [
                        {
                            question: "Lari jarak pendek disebut?",
                            options: { a: "Marathon", b: "Sprint", c: "Middle Distance", d: "Long Distance" },
                            correct: "b"
                        },
                        {
                            question: "Lari 100 meter termasuk kategori?",
                            options: { a: "Sprint", b: "Middle Distance", c: "Long Distance", d: "Marathon" },
                            correct: "a"
                        },
                        {
                            question: "Teknik memasuki garis finish disebut?",
                            options: { a: "Start", b: "Stride", c: "Finish", d: "Sprint" },
                            correct: "c"
                        }
                    ],
                    'XI': [
                        {
                            question: "Lompat horizontal sejauh mungkin disebut?",
                            options: { a: "Lompat Tinggi", b: "Lompat Jauh", c: "Lompat Galah", d: "Lompat Jangkit" },
                            correct: "b"
                        },
                        {
                            question: "Menolak peluru sejauh mungkin disebut?",
                            options: { a: "Lempar Lembing", b: "Lempar Cakram", c: "Tolak Peluru", d: "Lempar Martil" },
                            correct: "c"
                        },
                        {
                            question: "Kombinasi hop, step, jump adalah?",
                            options: { a: "Lompat Jauh", b: "Lompat Tinggi", c: "Lompat Jangkit", d: "Lompat Galah" },
                            correct: "c"
                        }
                    ],
                    'XII': [
                        {
                            question: "Produksi tenaga dalam atletik disebut?",
                            options: { a: "Power Development", b: "Force Production", c: "Efficiency", d: "Technique Analysis" },
                            correct: "b"
                        },
                        {
                            question: "Periodisasi latihan dalam bahasa Inggris disebut?",
                            options: { a: "Strength Training", b: "Speed Development", c: "Periodization", d: "Recovery" },
                            correct: "c"
                        },
                        {
                            question: "Pengembangan daya dalam atletik disebut?",
                            options: { a: "Force Production", b: "Power Development", c: "Efficiency", d: "Recovery" },
                            correct: "b"
                        }
                    ]
                }
            }
        };

        // Login function
        function loginStudent() {
            const name = document.getElementById('student-name').value.trim();
            const studentClass = document.getElementById('student-class').value;
            
            if (!name || !studentClass) {
                alert('Mohon lengkapi nama dan kelas!');
                return;
            }
            
            currentStudent = {
                name: name,
                class: studentClass,
                loginTime: new Date().toISOString()
            };
            
            // Save to localStorage
            localStorage.setItem('currentStudent', JSON.stringify(currentStudent));
            
            // Load completed subjects for this student
            loadStudentProgress();
            
            // Update display
            document.getElementById('student-display').textContent = `üëã ${name} - Kelas ${studentClass}`;
            
            // Show subject menu
            document.getElementById('login-section').classList.add('hidden');
            document.getElementById('subject-menu').classList.remove('hidden');
            
            // Load subjects for this class
            loadSubjectsForClass(studentClass);
        }

        // Load student progress
        function loadStudentProgress() {
            const progressKey = `progress_${currentStudent.name}_${currentStudent.class}`;
            const savedProgress = localStorage.getItem(progressKey);
            completedSubjects = savedProgress ? JSON.parse(savedProgress) : [];
            updateProgressDisplay();
        }

        // Save student progress
        function saveStudentProgress() {
            const progressKey = `progress_${currentStudent.name}_${currentStudent.class}`;
            localStorage.setItem(progressKey, JSON.stringify(completedSubjects));
            updateProgressDisplay();
        }

        // Update progress display
        function updateProgressDisplay() {
            const progressItems = document.getElementById('progress-items');
            const totalSubjects = Object.keys(subjects).length;
            const completed = completedSubjects.length;
            
            progressItems.innerHTML = `
                <div class="progress-item">
                    üìä Progress: ${completed}/${totalSubjects} materi selesai
                </div>
                ${completedSubjects.map(subject => 
                    `<div class="progress-item completed">‚úÖ ${subjects[subject].title}</div>`
                ).join('')}
            `;
        }

        // Load subjects for specific class
        function loadSubjectsForClass(studentClass) {
            const subjectGrid = document.getElementById('subject-grid');
            subjectGrid.innerHTML = '';
            
            Object.keys(subjects).forEach(subjectKey => {
                const subject = subjects[subjectKey];
                const isCompleted = completedSubjects.includes(subjectKey);
                
                const subjectCard = document.createElement('div');
                subjectCard.className = `subject-card ${isCompleted ? 'completed' : ''}`;
                subjectCard.onclick = () => loadSubject(subjectKey);
                
                subjectCard.innerHTML = `
                    <div class="subject-icon">${subject.icon}</div>
                    <h3>${subject.title}</h3>
                    <p>Materi untuk Kelas ${studentClass}</p>
                    ${isCompleted ? '<p>‚úÖ Sudah Selesai</p>' : '<p>üìö Belum Selesai</p>'}
                `;
                
                subjectGrid.appendChild(subjectCard);
            });
        }

        // Load subject content
        function loadSubject(subjectKey) {
            currentSubject = subjectKey;
            const subject = subjects[subjectKey];
            const studentClass = currentStudent.class;
            
            // Update study section
            document.getElementById('study-header').innerHTML = 
                `${subject.icon} Materi: ${subject.title} - Kelas ${studentClass}`;
            document.getElementById('lesson-content').innerHTML = subject.content[studentClass];
            
            // Update test section
            document.getElementById('test-header').innerHTML = 
                `üìù Post-Test: ${subject.title} - Kelas ${studentClass}`;
            
            // Load questions for this class
            loadQuestions(subject.questions[studentClass]);
            
            // Show study section
            document.getElementById('subject-menu').classList.add('hidden');
            document.getElementById('study-section').classList.remove('hidden');
            document.getElementById('test-section').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        // Load questions
        function loadQuestions(questions) {
            const form = document.getElementById('quiz-form');
            form.innerHTML = '';
            
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                
                let optionsHTML = '';
                for (let [key, value] of Object.entries(q.options)) {
                    optionsHTML += `
                        <li><label><input type="radio" name="q${index + 1}" value="${key}"> ${value}</label></li>
                    `;
                }
                
                questionDiv.innerHTML = `
                    <h4>${index + 1}. ${q.question}</h4>
                    <ul class="options">
                        ${optionsHTML}
                    </ul>
                `;
                
                form.appendChild(questionDiv);
            });
        }

        // Navigation functions
        function startTest() {
            document.getElementById('study-section').classList.add('hidden');
            document.getElementById('test-section').classList.remove('hidden');
        }

        function backToStudy() {
            document.getElementById('study-section').classList.remove('hidden');
            document.getElementById('test-section').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        function backToMenu() {
            document.getElementById('subject-menu').classList.remove('hidden');
            document.getElementById('study-section').classList.add('hidden');
            document.getElementById('test-section').classList.add('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        // Submit test
        function submitTest() {
            const subject = subjects[currentSubject];
            const questions = subject.questions[currentStudent.class];
            const form = document.getElementById('quiz-form');
            const formData = new FormData(form);
            
            let score = 0;
            let totalQuestions = questions.length;
            let results = [];

            questions.forEach((q, index) => {
                const questionNum = `q${index + 1}`;
                const userAnswer = formData.get(questionNum);
                const isCorrect = userAnswer === q.correct;
                
                if (isCorrect) score++;

                results.push({
                    question: q.question,
                    userAnswer: userAnswer ? q.options[userAnswer] : 'Tidak dijawab',
                    correctAnswer: q.options[q.correct],
                    isCorrect: isCorrect
                });
            });

            // Mark subject as completed if score >= 70%
            const percentage = (score / totalQuestions) * 100;
            if (percentage >= 70 && !completedSubjects.includes(currentSubject)) {
                completedSubjects.push(currentSubject);
                saveStudentProgress();
            }

            showResults(score, totalQuestions, results, percentage);
        }

        // Show results
        function showResults(score, total, results, percentage) {
            document.getElementById('test-section').classList.add('hidden');
            document.getElementById('results-section').classList.remove('hidden');

            document.getElementById('score-number').textContent = score;
            document.getElementById('score-text').textContent = `dari ${total} soal`;
            document.getElementById('progress-fill').style.width = percentage + '%';

            let message = '';
            if (percentage >= 90) {
                message = 'üåü Luar Biasa! Anda menguasai materi dengan sangat baik!';
            } else if (percentage >= 70) {
                message = 'üëç Bagus! Anda telah memahami materi dengan baik.';
            } else if (percentage >= 50) {
                message = 'üìö Cukup baik, tapi perlu belajar lagi untuk hasil yang lebih baik.';
            } else {
                message = 'üí™ Tetap semangat! Pelajari kembali materi dan coba lagi.';
            }
            document.getElementById('performance-message').textContent = message;

            // Show detailed results
            let detailedHTML = '<h3 style="margin-top: 30px; color: #2c3e50;">Review Jawaban:</h3>';
            results.forEach((result, index) => {
                const statusIcon = result.isCorrect ? '‚úÖ' : '‚ùå';
                
                detailedHTML += `
                    <div class="question" style="border-left-color: ${result.isCorrect ? '#00b894' : '#FF6B6B'}">
                        <h4>${statusIcon} Soal ${index + 1}: ${result.question}</h4>
                        <p><strong>Jawaban Anda:</strong> ${result.userAnswer}</p>
                        ${!result.isCorrect ? `<p><strong>Jawaban Benar:</strong> ${result.correctAnswer}</p>` : ''}
                    </div>
                `;
            });
            
            document.getElementById('detailed-results').innerHTML = detailedHTML;
            
            // Send to Google Sheets
            sendToGoogleSheets(score, total, percentage, results);
        }

        // Send data to Google Sheets
        function sendToGoogleSheets(score, total, percentage, results) {
            if (GOOGLE_SCRIPT_URL === 'https://script.google.com/macros/s/AKfycbyXwgC_Z1ofst8cQmqeVsM2MhdIkAtVggldBy7fcA5eOjqtDRKT-TDbYOAwIXCkp1AAkQ/exec') {
                console.log('Google Sheets belum dikonfigurasi. Data yang akan dikirim:', {
                    student: currentStudent,
                    subject: subjects[currentSubject].title,
                    score: score,
                    total: total,
                    percentage: percentage
                });
                return;
            }
            
            const data = {
                timestamp: new Date().toISOString(),
                studentName: currentStudent.name,
                studentClass: currentStudent.class,
                subject: subjects[currentSubject].title,
                score: score,
                totalQuestions: total,
                percentage: percentage,
                passed: percentage >= 70,
                loginTime: currentStudent.loginTime,
                detailedResults: results
            };
            
            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            }).catch(error => {
                console.log('Data logging attempted:', data);
            });
        }

        function retakeTest() {
            document.getElementById('quiz-form').reset();
            document.getElementById('test-section').classList.remove('hidden');
            document.getElementById('results-section').classList.add('hidden');
        }

        // Check if student is already logged in
        window.onload = function() {
            const savedStudent = localStorage.getItem('currentStudent');
            if (savedStudent) {
                currentStudent = JSON.parse(savedStudent);
                document.getElementById('student-display').textContent = 
                    `üëã ${currentStudent.name} - Kelas ${currentStudent.class}`;
                
                loadStudentProgress();
                loadSubjectsForClass(currentStudent.class);
                
                document.getElementById('login-section').classList.add('hidden');
                document.getElementById('subject-menu').classList.remove('hidden');
            }
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ef73aeb5034ac1',t:'MTc2MDUzMjcyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
    <script  src="./script.js"></script>

  </body>
  
</html>
